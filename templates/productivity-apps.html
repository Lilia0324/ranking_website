<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Discover the best Productivity Apps for your region, boost your efficiency and workflow with top-rated productivity applications.">
    <meta name="keywords" content="Productivity Apps, Task Management, Project Management, Collaboration Tools">
    <title>Top Productivity Apps in {{region}} ‚Äì 2025 Rankings</title>
    <link rel="icon" type="image/png" href="/ranking.png">
    <link rel="stylesheet" href="/style.css">
    <style>
        .ranking-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        .ranking-table th, .ranking-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .ranking-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        .ranking-table tr:hover {
            background-color: #f5f5f5;
        }

        .rank {
            width: 80px;
            text-align: center;
        }

        .rank span {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background-color: #4285f4;
            color: white;
            border-radius: 50%;
            margin: 0 auto;
            font-weight: bold;
        }

        .strengths ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .strengths li {
            margin: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .strengths li:before {
            content: "‚úì";
            color: #4CAF50;
            position: absolute;
            left: 0;
        }

        .button {
            display: inline-block;
            padding: 8px 16px;
            background-color: #4285f4;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .button:hover {
            background-color: #3367d6;
        }

        .error-message {
            color: #dc3545;
            padding: 20px;
            text-align: center;
            background-color: #f8d7da;
            border-radius: 4px;
            margin: 20px 0;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }

        .home-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 12px 24px;
            background-color: #4285f4;
            color: white;
            text-decoration: none;
            border-radius: 50px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .home-button:hover {
            background-color: #3367d6;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .home-button:before {
            content: "üè†";
            font-size: 1.2em;
        }

        /* Navigation bar styles */
        nav {
            display: flex;
            align-items: center;
            padding: 0 2rem;
            background: #4F46E5;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            height: 72px;
        }

        .logo-area {
            display: inline-flex;
            align-items: center;
            gap: 14px;
            text-decoration: none;
            height: 56px;
            padding: 0 6px;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }

        .logo-area:hover {
            opacity: 0.9;
        }

        .site-logo {
            width: 136px;
            height: 136px;
            display: block;
            object-fit: contain;
        }

        .logo-title {
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            font-family: 'SF Pro Display', Inter, -apple-system, BlinkMacSystemFont, sans-serif;
            opacity: 0.98;
            position: relative;
            padding: 4px 0;
            background: linear-gradient(
                to right,
                #ffffff 0%,
                rgba(255, 255, 255, 0.9) 50%,
                #ffffff 100%
            );
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: shine 3s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes shine {
            0% {
                background-position: 200% center;
            }
            100% {
                background-position: -200% center;
            }
        }

        .logo-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(
                90deg,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.3) 50%,
                rgba(255, 255, 255, 0) 100%
            );
        }

        /* Add gradient light effect */
        nav::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(
                90deg,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.1) 50%,
                rgba(255, 255, 255, 0) 100%
            );
        }

        /* Adjust header position */
        header {
            margin-top: 72px;
            background: linear-gradient(135deg, #4F46E5 0%, #6366F1 100%);
            padding: 4rem 2rem;
            text-align: center;
            position: relative;
            min-height: 500px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(125deg, 
                #4B50F7 0%, 
                #6366f1 25%,
                #818cf8 50%,
                #6366f1 75%,
                #4B50F7 100%
            );
            background-size: 400% 400%;
            animation: gradientAnimation 15s ease infinite;
            overflow: hidden;
        }

        @keyframes gradientAnimation {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        header::before {
            content: '';
            position: absolute;
            width: 150%;
            height: 150%;
            top: -25%;
            left: -25%;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.08'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat;
            transform: rotate(30deg);
            animation: patternMove 20s linear infinite;
        }

        @keyframes patternMove {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        header::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 50%, 
                rgba(99, 102, 241, 0) 0%, 
                rgba(99, 102, 241, 0.2) 100%
            );
        }

        @media (max-width: 768px) {
            nav {
                padding: 0 1rem;
                height: 64px;
            }

            .logo-area {
                height: 48px;
                gap: 12px;
            }

            .site-logo {
                width: 40px;
                height: 40px;
            }

            .logo-title {
                font-size: 15px;
                letter-spacing: 0.8px;
            }

            header {
                margin-top: 64px;
            }
        }

        @media (max-width: 480px) {
            .logo-area {
                height: 44px;
                gap: 10px;
            }

            .site-logo {
                width: 36px;
                height: 36px;
            }

            .logo-title {
                font-size: 14px;
                letter-spacing: 0.6px;
            }
        }
    </style>
</head>
<body>
    <nav>
        <a href="/" class="logo-area">
            <img src="/images/lilia_logo.png" alt="Logo" class="site-logo">
            <span class="logo-title">TOP DEV TOOLS & APPS</span>
        </a>
    </nav>

    <header>
        <h1 id="pageTitle">Best Productivity Apps in {{region}} ‚Äì 2025 Rankings</h1>
        <p id="pageSubtitle">Boost your {{region}} team productivity with top-rated productivity applications.</p>
        <div id="last-updated">Last Updated: <span></span></div>
    </header>

    <a href="/" class="home-button">Return to Home</a>

    <div id="loading">Loading data...</div>

    <section class="intro">
        <h2 id="introTitle">Why Use Productivity Apps in {{region}}?</h2>
        <p id="introText">Maximizing productivity in {{region}} requires the right set of tools to manage tasks and collaborate effectively. Productivity apps help teams and individuals:</p>
        <ul id="benefitsList">
            <!-- Benefits will be loaded here -->
        </ul>
    </section>

    <section class="table-container">
        <h2>Top Productivity Apps by Rank</h2>
        <table class="ranking-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>App</th>
                    <th>Description</th>
                    <th>Key Features</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="rankingsTableBody">
                <!-- Rankings will be loaded here -->
            </tbody>
        </table>
    </section>

    <footer>
        <p>&copy; 2025 Productivity Apps Rankings. All rights reserved.</p>
        <p class="disclaimer">Disclaimer: Some data or content on this website is generated by artificial intelligence and is intended for reference only. The information may contain inaccuracies or omissions, and users are encouraged to verify the details independently. The website is not liable for any loss or damage arising from reliance on the information provided. For accurate and up-to-date information, please consult official sources or visit the app's official website.</p>
    </footer>

    <script src="/js/regionData.js"></script>
    <script src="/js/timeSelector.js"></script>
    <script>
    // Get region info from URL
    function getRegionFromUrl() {
        const path = window.location.pathname;
        const match = path.match(/top-(?:dev-tools|productivity-apps)-in-(.+)$/);
        return match ? match[1] : '';
    }

    // Format region name
    function formatRegionName(region) {
        return region
            .split('-')
            .map(word => word.charAt(0).toUpperCase() + word.slice(1))
            .join(' ');
    }
    
    // Load region data
    function loadRegionData() {
        const region = getRegionFromUrl();
        console.log('Loading data for region:', region);
        console.log('Available regions:', Object.keys(regionData));
        
        if (region && regionData[region]) {
            const data = regionData[region].productivityApps;
            const regionName = formatRegionName(region);
            
            // Update page title and description
            document.getElementById('pageTitle').textContent = `Best Productivity Apps in ${regionName} ‚Äì 2025 Rankings`;
            document.getElementById('pageSubtitle').textContent = `Boost your ${regionName} team productivity with top-rated productivity applications.`;
            document.getElementById('introTitle').textContent = `Why Use Productivity Apps in ${regionName}?`;
            document.getElementById('introText').textContent = `Maximizing productivity in ${regionName} requires the right set of tools to manage tasks and collaborate effectively. Productivity apps help teams and individuals:`;
            
            const benefitsList = document.getElementById('benefitsList');
            if (benefitsList) {
                benefitsList.innerHTML = data.benefits.map(benefit => `<li>${benefit}</li>`).join('');
            }
            
            // Hide loading indicator
            const loading = document.getElementById('loading');
            if (loading) {
                loading.style.display = 'none';
            }
            
            return true;
        } else {
            console.error('Region not found:', region);
            // Show error message if region not found
            document.body.innerHTML = `
                <div class="error-message">
                    <h1>Region Not Found</h1>
                    <p>The requested region "${region}" could not be found. Please check the URL and try again.</p>
                    <a href="/" class="button">Return to Home</a>
                </div>
            `;
            return false;
        }
    }

    // Initialize page
    async function initializePage() {
        try {
            // Load region data first
            const regionLoaded = loadRegionData();
            
            // If region data loaded successfully, initialize time selector and rankings
            if (regionLoaded) {
                await initializeTimeSelector();
                await loadRankingData();
            }
        } catch (error) {
            console.error('Error initializing page:', error);
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.innerHTML = `
                <h2>Error Loading Page</h2>
                <p>${error.message}</p>
                <a href="/" class="button">Return to Home</a>
            `;
            document.body.appendChild(errorDiv);
        }
    }

    // Execute when page loads
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializePage);
    } else {
        initializePage();
    }
    </script>
</body>
</html>
